{
  "tags": [
    {
      "name": "Image preprocessing",
      "description": "Methods that characterize and optimize the digital representations for layout and text recognition."
    },
    {
      "name": "Layout analysis",
      "description": "Registration of the correct text flow, that means the reproduction of the logical-structural text flow and high text accuracy."
    },
    {
      "name": "Text recognition and optimization",
      "description": "Combination of several OCR engines with subsequent corrections to improve text results."
    },
    {
      "name": "Model training",
      "description": "Training and provision of models."
    },
    {
      "name": "Long-term preservation",
      "description": "Ensuring the long-term availability and referenceability of the texts obtained."
    },
    {
      "name": "Quality assurance",
      "description": "Determination/estimation of the potential of each component."
    }
  ],
  "openapi": "3.0.0",
  "paths": {
    "/kraken-binarize": {
      "post": {
        "tags": [
          "Image preprocessing"
        ],
        "responses": {
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal error"
          },
          "201": {
            "links": {
              "GetFilesByJobId": {
                "operationId": "get-created-files-of-processor",
                "description": "The `jobId` value returned in the response can be used as the `jobID` parameter in `GET /ocrd/processor/jobid/{jobID}`.\n",
                "parameters": {
                  "jobID": "$response.body#/jobID"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/job-id"
                }
              }
            },
            "description": "Successful Operation. The created file(s) has/have to be referenced inside the given fileGrp sections.",
            "headers": {
              "Location": {
                "description": "URL of the generated job.",
                "schema": {
                  "type": "string",
                  "format": "url"
                }
              }
            }
          }
        },
        "operationId": "start-processor",
        "description": "Binarize images with kraken",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "mets",
                  "input-file-grp",
                  "output-file-grp"
                ],
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "description": "Object holding all parameters needed by most processors.",
                "properties": {
                  "parameter": {
                    "type": "array",
                    "description": "Parameter file in JSON format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "output-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "log-level": {
                    "$ref": "#/components/schemas/log-level"
                  },
                  "group-id": {
                    "type": "array",
                    "description": "All IDs of the image files which should be characterized.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "input-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mets": {
                    "$ref": "#/components/schemas/mets-file"
                  }
                }
              }
            }
          }
        },
        "summary": "Binarize images with kraken"
      },
      "get": {
        "tags": [
          "Image preprocessing"
        ],
        "responses": {
          "200": {
            "application/json": {
              "description": "Got ocrd-tool.json",
              "schema": {
                "type": "object",
                "required": [
                  "version",
                  "git_url",
                  "tools"
                ],
                "additionalProperties": false,
                "description": "Schema for tools by OCR-D MP",
                "properties": {
                  "git_url": {
                    "type": "string",
                    "description": "Github/Gitlab URL",
                    "format": "url"
                  },
                  "dockerhub": {
                    "type": "string",
                    "description": "DockerHub image"
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "ocrd-.*": {
                        "type": "object",
                        "required": [
                          "description",
                          "steps",
                          "executable",
                          "categories"
                        ],
                        "additionalProperties": false,
                        "properties": {
                          "description": {
                            "description": "Concise description what the tool does"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "Image preprocessing",
                                "Layout analysis",
                                "Text recognition and optimization",
                                "Model training",
                                "Long-term preservation",
                                "Quality assurance"
                              ]
                            },
                            "description": "Tools belong to this categories, representing modules within the OCR-D project structure"
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "preprocessing/characterization",
                                "preprocessing/optimization",
                                "preprocessing/optimization/cropping",
                                "preprocessing/optimization/deskewing",
                                "preprocessing/optimization/despeckling",
                                "preprocessing/optimization/dewarping",
                                "preprocessing/optimization/binarization",
                                "preprocessing/optimization/grayscale_normalization",
                                "recognition/text-recognition",
                                "recognition/font-identification",
                                "layout/segmentation",
                                "layout/segmentation/region",
                                "layout/segmentation/line",
                                "layout/segmentation/word",
                                "layout/segmentation/classification",
                                "layout/analysis"
                              ]
                            },
                            "description": "This tool can be used at these steps in the OCR-D functional model"
                          },
                          "parameters": {
                            "type": "object",
                            "patternProperties": {
                              ".*": {
                                "type": "object",
                                "required": [
                                  "type"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                  "enum": {
                                    "type": "array",
                                    "description": "List the allowed values if a fixed list."
                                  },
                                  "type": {
                                    "type": "string",
                                    "description": "Data type of this parameter",
                                    "enum": [
                                      "string",
                                      "number",
                                      "boolean"
                                    ]
                                  },
                                  "required": {
                                    "type": "boolean",
                                    "description": "Whether this parameter is required"
                                  },
                                  "default": {
                                    "description": "Default value when not provided by the user"
                                  },
                                  "format": {
                                    "description": "Subtype, such as `float` for type `number` or `uri` for type `string`."
                                  }
                                }
                              }
                            },
                            "description": "Object describing the parameters of a tool. Keys are parameter names, values sub-schemas."
                          },
                          "executable": {
                            "type": "string",
                            "description": "The name of the CLI executable in $PATH"
                          }
                        }
                      }
                    }
                  },
                  "version": "v2.2.1",
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
                    "description": "Version of the tool, expressed as MAJOR.MINOR.PATCH."
                  }
                }
              }
            }
          }
        },
        "produces": [],
        "description": "Get ocrd-tool.json"
      }
    },
    "/tesserocr-segment-line/{_id}": {
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              },
              "application/vnd.ocrd.log+json": {
                "schema": {
                  "$ref": "#/components/schemas/logging"
                }
              },
              "application/mets+xml": {
                "schema": {
                  "$ref": "#/components/schemas/mets-file"
                }
              },
              "application/vnd.ocrd.page+xml": {
                "schema": {
                  "$ref": "#/components/schemas/page-file"
                }
              },
              "application/vnd.ocrd.prov+json": {
                "schema": {
                  "$ref": "#/components/schemas/provenance-file"
                }
              },
              "application/zip": {
                "schema": {
                  "$ref": "#/components/schemas/zip-file"
                }
              },
              "image/*": {
                "schema": {
                  "$ref": "#/components/schemas/image-file"
                }
              }
            },
            "description": "Successful Operation."
          },
          "400": {
            "description": "Bad request. Maybe more than one file of at least one mimetype was created. Please use mimetype 'application/zip' as accept header to fetch all files at once."
          },
          "500": {
            "description": "Internal error"
          }
        },
        "operationId": "get-created-files-of-processor",
        "description": "Fetch all file created by job with id 'jobID'. If more than one file is created per mimetype use mimetype 'application/zip' as accept header to fetch all files at once.",
        "summary": "Get created files.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      },
      "delete": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "410": {
            "description": "Resource is not available anymore."
          },
          "500": {
            "description": "Internal error"
          },
          "404": {
            "description": "Not found."
          },
          "204": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              }
            },
            "description": "Successful Operation. All linked resources are removed successfully."
          }
        },
        "summary": "Delete all files created by job with ID 'jobID'.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      }
    },
    "/tesserocr-segment-region/{_id}": {
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              },
              "application/vnd.ocrd.log+json": {
                "schema": {
                  "$ref": "#/components/schemas/logging"
                }
              },
              "application/mets+xml": {
                "schema": {
                  "$ref": "#/components/schemas/mets-file"
                }
              },
              "application/vnd.ocrd.page+xml": {
                "schema": {
                  "$ref": "#/components/schemas/page-file"
                }
              },
              "application/vnd.ocrd.prov+json": {
                "schema": {
                  "$ref": "#/components/schemas/provenance-file"
                }
              },
              "application/zip": {
                "schema": {
                  "$ref": "#/components/schemas/zip-file"
                }
              },
              "image/*": {
                "schema": {
                  "$ref": "#/components/schemas/image-file"
                }
              }
            },
            "description": "Successful Operation."
          },
          "400": {
            "description": "Bad request. Maybe more than one file of at least one mimetype was created. Please use mimetype 'application/zip' as accept header to fetch all files at once."
          },
          "500": {
            "description": "Internal error"
          }
        },
        "operationId": "get-created-files-of-processor",
        "description": "Fetch all file created by job with id 'jobID'. If more than one file is created per mimetype use mimetype 'application/zip' as accept header to fetch all files at once.",
        "summary": "Get created files.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      },
      "delete": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "410": {
            "description": "Resource is not available anymore."
          },
          "500": {
            "description": "Internal error"
          },
          "404": {
            "description": "Not found."
          },
          "204": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              }
            },
            "description": "Successful Operation. All linked resources are removed successfully."
          }
        },
        "summary": "Delete all files created by job with ID 'jobID'.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      }
    },
    "/kraken-ocr/{_id}": {
      "get": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "200": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              },
              "application/vnd.ocrd.log+json": {
                "schema": {
                  "$ref": "#/components/schemas/logging"
                }
              },
              "application/mets+xml": {
                "schema": {
                  "$ref": "#/components/schemas/mets-file"
                }
              },
              "application/vnd.ocrd.page+xml": {
                "schema": {
                  "$ref": "#/components/schemas/page-file"
                }
              },
              "application/vnd.ocrd.prov+json": {
                "schema": {
                  "$ref": "#/components/schemas/provenance-file"
                }
              },
              "application/zip": {
                "schema": {
                  "$ref": "#/components/schemas/zip-file"
                }
              },
              "image/*": {
                "schema": {
                  "$ref": "#/components/schemas/image-file"
                }
              }
            },
            "description": "Successful Operation."
          },
          "400": {
            "description": "Bad request. Maybe more than one file of at least one mimetype was created. Please use mimetype 'application/zip' as accept header to fetch all files at once."
          },
          "500": {
            "description": "Internal error"
          }
        },
        "operationId": "get-created-files-of-processor",
        "description": "Fetch all file created by job with id 'jobID'. If more than one file is created per mimetype use mimetype 'application/zip' as accept header to fetch all files at once.",
        "summary": "Get created files.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      },
      "delete": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "410": {
            "description": "Resource is not available anymore."
          },
          "500": {
            "description": "Internal error"
          },
          "404": {
            "description": "Not found."
          },
          "204": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              }
            },
            "description": "Successful Operation. All linked resources are removed successfully."
          }
        },
        "summary": "Delete all files created by job with ID 'jobID'.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      }
    },
    "/kraken-segment": {
      "post": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal error"
          },
          "201": {
            "links": {
              "GetFilesByJobId": {
                "operationId": "get-created-files-of-processor",
                "description": "The `jobId` value returned in the response can be used as the `jobID` parameter in `GET /ocrd/processor/jobid/{jobID}`.\n",
                "parameters": {
                  "jobID": "$response.body#/jobID"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/job-id"
                }
              }
            },
            "description": "Successful Operation. The created file(s) has/have to be referenced inside the given fileGrp sections.",
            "headers": {
              "Location": {
                "description": "URL of the generated job.",
                "schema": {
                  "type": "string",
                  "format": "url"
                }
              }
            }
          }
        },
        "operationId": "start-processor",
        "description": "Block segmentation with kraken",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "mets",
                  "input-file-grp",
                  "output-file-grp"
                ],
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "description": "Object holding all parameters needed by most processors.",
                "properties": {
                  "parameter": {
                    "type": "array",
                    "description": "Parameter file in JSON format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "output-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "log-level": {
                    "$ref": "#/components/schemas/log-level"
                  },
                  "group-id": {
                    "type": "array",
                    "description": "All IDs of the image files which should be characterized.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "input-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mets": {
                    "$ref": "#/components/schemas/mets-file"
                  }
                }
              }
            }
          }
        },
        "summary": "Block segmentation with kraken"
      },
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "application/json": {
              "description": "Got ocrd-tool.json",
              "schema": {
                "type": "object",
                "required": [
                  "version",
                  "git_url",
                  "tools"
                ],
                "additionalProperties": false,
                "description": "Schema for tools by OCR-D MP",
                "properties": {
                  "git_url": {
                    "type": "string",
                    "description": "Github/Gitlab URL",
                    "format": "url"
                  },
                  "dockerhub": {
                    "type": "string",
                    "description": "DockerHub image"
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "ocrd-.*": {
                        "type": "object",
                        "required": [
                          "description",
                          "steps",
                          "executable",
                          "categories"
                        ],
                        "additionalProperties": false,
                        "properties": {
                          "description": {
                            "description": "Concise description what the tool does"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "Image preprocessing",
                                "Layout analysis",
                                "Text recognition and optimization",
                                "Model training",
                                "Long-term preservation",
                                "Quality assurance"
                              ]
                            },
                            "description": "Tools belong to this categories, representing modules within the OCR-D project structure"
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "preprocessing/characterization",
                                "preprocessing/optimization",
                                "preprocessing/optimization/cropping",
                                "preprocessing/optimization/deskewing",
                                "preprocessing/optimization/despeckling",
                                "preprocessing/optimization/dewarping",
                                "preprocessing/optimization/binarization",
                                "preprocessing/optimization/grayscale_normalization",
                                "recognition/text-recognition",
                                "recognition/font-identification",
                                "layout/segmentation",
                                "layout/segmentation/region",
                                "layout/segmentation/line",
                                "layout/segmentation/word",
                                "layout/segmentation/classification",
                                "layout/analysis"
                              ]
                            },
                            "description": "This tool can be used at these steps in the OCR-D functional model"
                          },
                          "parameters": {
                            "type": "object",
                            "patternProperties": {
                              ".*": {
                                "type": "object",
                                "required": [
                                  "type"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                  "enum": {
                                    "type": "array",
                                    "description": "List the allowed values if a fixed list."
                                  },
                                  "type": {
                                    "type": "string",
                                    "description": "Data type of this parameter",
                                    "enum": [
                                      "string",
                                      "number",
                                      "boolean"
                                    ]
                                  },
                                  "required": {
                                    "type": "boolean",
                                    "description": "Whether this parameter is required"
                                  },
                                  "default": {
                                    "description": "Default value when not provided by the user"
                                  },
                                  "format": {
                                    "description": "Subtype, such as `float` for type `number` or `uri` for type `string`."
                                  }
                                }
                              }
                            },
                            "description": "Object describing the parameters of a tool. Keys are parameter names, values sub-schemas."
                          },
                          "executable": {
                            "type": "string",
                            "description": "The name of the CLI executable in $PATH"
                          }
                        }
                      }
                    }
                  },
                  "version": "v2.2.1",
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
                    "description": "Version of the tool, expressed as MAJOR.MINOR.PATCH."
                  }
                }
              }
            }
          }
        },
        "produces": [],
        "description": "Get ocrd-tool.json"
      }
    },
    "/tesserocr-segment-word": {
      "post": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal error"
          },
          "201": {
            "links": {
              "GetFilesByJobId": {
                "operationId": "get-created-files-of-processor",
                "description": "The `jobId` value returned in the response can be used as the `jobID` parameter in `GET /ocrd/processor/jobid/{jobID}`.\n",
                "parameters": {
                  "jobID": "$response.body#/jobID"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/job-id"
                }
              }
            },
            "description": "Successful Operation. The created file(s) has/have to be referenced inside the given fileGrp sections.",
            "headers": {
              "Location": {
                "description": "URL of the generated job.",
                "schema": {
                  "type": "string",
                  "format": "url"
                }
              }
            }
          }
        },
        "operationId": "start-processor",
        "description": "Segment lines into words with tesseract",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "mets",
                  "input-file-grp",
                  "output-file-grp"
                ],
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "description": "Object holding all parameters needed by most processors.",
                "properties": {
                  "parameter": {
                    "type": "array",
                    "description": "Parameter file in JSON format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "output-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "log-level": {
                    "$ref": "#/components/schemas/log-level"
                  },
                  "group-id": {
                    "type": "array",
                    "description": "All IDs of the image files which should be characterized.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "input-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mets": {
                    "$ref": "#/components/schemas/mets-file"
                  }
                }
              }
            }
          }
        },
        "summary": "Segment lines into words with tesseract"
      },
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "application/json": {
              "description": "Got ocrd-tool.json",
              "schema": {
                "type": "object",
                "required": [
                  "version",
                  "git_url",
                  "tools"
                ],
                "additionalProperties": false,
                "description": "Schema for tools by OCR-D MP",
                "properties": {
                  "git_url": {
                    "type": "string",
                    "description": "Github/Gitlab URL",
                    "format": "url"
                  },
                  "dockerhub": {
                    "type": "string",
                    "description": "DockerHub image"
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "ocrd-.*": {
                        "type": "object",
                        "required": [
                          "description",
                          "steps",
                          "executable",
                          "categories"
                        ],
                        "additionalProperties": false,
                        "properties": {
                          "description": {
                            "description": "Concise description what the tool does"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "Image preprocessing",
                                "Layout analysis",
                                "Text recognition and optimization",
                                "Model training",
                                "Long-term preservation",
                                "Quality assurance"
                              ]
                            },
                            "description": "Tools belong to this categories, representing modules within the OCR-D project structure"
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "preprocessing/characterization",
                                "preprocessing/optimization",
                                "preprocessing/optimization/cropping",
                                "preprocessing/optimization/deskewing",
                                "preprocessing/optimization/despeckling",
                                "preprocessing/optimization/dewarping",
                                "preprocessing/optimization/binarization",
                                "preprocessing/optimization/grayscale_normalization",
                                "recognition/text-recognition",
                                "recognition/font-identification",
                                "layout/segmentation",
                                "layout/segmentation/region",
                                "layout/segmentation/line",
                                "layout/segmentation/word",
                                "layout/segmentation/classification",
                                "layout/analysis"
                              ]
                            },
                            "description": "This tool can be used at these steps in the OCR-D functional model"
                          },
                          "parameters": {
                            "type": "object",
                            "patternProperties": {
                              ".*": {
                                "type": "object",
                                "required": [
                                  "type"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                  "enum": {
                                    "type": "array",
                                    "description": "List the allowed values if a fixed list."
                                  },
                                  "type": {
                                    "type": "string",
                                    "description": "Data type of this parameter",
                                    "enum": [
                                      "string",
                                      "number",
                                      "boolean"
                                    ]
                                  },
                                  "required": {
                                    "type": "boolean",
                                    "description": "Whether this parameter is required"
                                  },
                                  "default": {
                                    "description": "Default value when not provided by the user"
                                  },
                                  "format": {
                                    "description": "Subtype, such as `float` for type `number` or `uri` for type `string`."
                                  }
                                }
                              }
                            },
                            "description": "Object describing the parameters of a tool. Keys are parameter names, values sub-schemas."
                          },
                          "executable": {
                            "type": "string",
                            "description": "The name of the CLI executable in $PATH"
                          }
                        }
                      }
                    }
                  },
                  "version": "v2.2.1",
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
                    "description": "Version of the tool, expressed as MAJOR.MINOR.PATCH."
                  }
                }
              }
            }
          }
        },
        "produces": [],
        "description": "Get ocrd-tool.json"
      }
    },
    "/kraken-ocr": {
      "post": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal error"
          },
          "201": {
            "links": {
              "GetFilesByJobId": {
                "operationId": "get-created-files-of-processor",
                "description": "The `jobId` value returned in the response can be used as the `jobID` parameter in `GET /ocrd/processor/jobid/{jobID}`.\n",
                "parameters": {
                  "jobID": "$response.body#/jobID"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/job-id"
                }
              }
            },
            "description": "Successful Operation. The created file(s) has/have to be referenced inside the given fileGrp sections.",
            "headers": {
              "Location": {
                "description": "URL of the generated job.",
                "schema": {
                  "type": "string",
                  "format": "url"
                }
              }
            }
          }
        },
        "operationId": "start-processor",
        "description": "OCR with kraken",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "mets",
                  "input-file-grp",
                  "output-file-grp"
                ],
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "description": "Object holding all parameters needed by most processors.",
                "properties": {
                  "parameter": {
                    "type": "array",
                    "description": "Parameter file in JSON format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "output-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "log-level": {
                    "$ref": "#/components/schemas/log-level"
                  },
                  "group-id": {
                    "type": "array",
                    "description": "All IDs of the image files which should be characterized.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "input-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mets": {
                    "$ref": "#/components/schemas/mets-file"
                  }
                }
              }
            }
          }
        },
        "summary": "OCR with kraken"
      },
      "get": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "200": {
            "application/json": {
              "description": "Got ocrd-tool.json",
              "schema": {
                "type": "object",
                "required": [
                  "version",
                  "git_url",
                  "tools"
                ],
                "additionalProperties": false,
                "description": "Schema for tools by OCR-D MP",
                "properties": {
                  "git_url": {
                    "type": "string",
                    "description": "Github/Gitlab URL",
                    "format": "url"
                  },
                  "dockerhub": {
                    "type": "string",
                    "description": "DockerHub image"
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "ocrd-.*": {
                        "type": "object",
                        "required": [
                          "description",
                          "steps",
                          "executable",
                          "categories"
                        ],
                        "additionalProperties": false,
                        "properties": {
                          "description": {
                            "description": "Concise description what the tool does"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "Image preprocessing",
                                "Layout analysis",
                                "Text recognition and optimization",
                                "Model training",
                                "Long-term preservation",
                                "Quality assurance"
                              ]
                            },
                            "description": "Tools belong to this categories, representing modules within the OCR-D project structure"
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "preprocessing/characterization",
                                "preprocessing/optimization",
                                "preprocessing/optimization/cropping",
                                "preprocessing/optimization/deskewing",
                                "preprocessing/optimization/despeckling",
                                "preprocessing/optimization/dewarping",
                                "preprocessing/optimization/binarization",
                                "preprocessing/optimization/grayscale_normalization",
                                "recognition/text-recognition",
                                "recognition/font-identification",
                                "layout/segmentation",
                                "layout/segmentation/region",
                                "layout/segmentation/line",
                                "layout/segmentation/word",
                                "layout/segmentation/classification",
                                "layout/analysis"
                              ]
                            },
                            "description": "This tool can be used at these steps in the OCR-D functional model"
                          },
                          "parameters": {
                            "type": "object",
                            "patternProperties": {
                              ".*": {
                                "type": "object",
                                "required": [
                                  "type"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                  "enum": {
                                    "type": "array",
                                    "description": "List the allowed values if a fixed list."
                                  },
                                  "type": {
                                    "type": "string",
                                    "description": "Data type of this parameter",
                                    "enum": [
                                      "string",
                                      "number",
                                      "boolean"
                                    ]
                                  },
                                  "required": {
                                    "type": "boolean",
                                    "description": "Whether this parameter is required"
                                  },
                                  "default": {
                                    "description": "Default value when not provided by the user"
                                  },
                                  "format": {
                                    "description": "Subtype, such as `float` for type `number` or `uri` for type `string`."
                                  }
                                }
                              }
                            },
                            "description": "Object describing the parameters of a tool. Keys are parameter names, values sub-schemas."
                          },
                          "executable": {
                            "type": "string",
                            "description": "The name of the CLI executable in $PATH"
                          }
                        }
                      }
                    }
                  },
                  "version": "v2.2.1",
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
                    "description": "Version of the tool, expressed as MAJOR.MINOR.PATCH."
                  }
                }
              }
            }
          }
        },
        "produces": [],
        "description": "Get ocrd-tool.json"
      }
    },
    "/tesserocr-segment-word/{_id}": {
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              },
              "application/vnd.ocrd.log+json": {
                "schema": {
                  "$ref": "#/components/schemas/logging"
                }
              },
              "application/mets+xml": {
                "schema": {
                  "$ref": "#/components/schemas/mets-file"
                }
              },
              "application/vnd.ocrd.page+xml": {
                "schema": {
                  "$ref": "#/components/schemas/page-file"
                }
              },
              "application/vnd.ocrd.prov+json": {
                "schema": {
                  "$ref": "#/components/schemas/provenance-file"
                }
              },
              "application/zip": {
                "schema": {
                  "$ref": "#/components/schemas/zip-file"
                }
              },
              "image/*": {
                "schema": {
                  "$ref": "#/components/schemas/image-file"
                }
              }
            },
            "description": "Successful Operation."
          },
          "400": {
            "description": "Bad request. Maybe more than one file of at least one mimetype was created. Please use mimetype 'application/zip' as accept header to fetch all files at once."
          },
          "500": {
            "description": "Internal error"
          }
        },
        "operationId": "get-created-files-of-processor",
        "description": "Fetch all file created by job with id 'jobID'. If more than one file is created per mimetype use mimetype 'application/zip' as accept header to fetch all files at once.",
        "summary": "Get created files.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      },
      "delete": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "410": {
            "description": "Resource is not available anymore."
          },
          "500": {
            "description": "Internal error"
          },
          "404": {
            "description": "Not found."
          },
          "204": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              }
            },
            "description": "Successful Operation. All linked resources are removed successfully."
          }
        },
        "summary": "Delete all files created by job with ID 'jobID'.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      }
    },
    "/tesserocr-segment-line": {
      "post": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal error"
          },
          "201": {
            "links": {
              "GetFilesByJobId": {
                "operationId": "get-created-files-of-processor",
                "description": "The `jobId` value returned in the response can be used as the `jobID` parameter in `GET /ocrd/processor/jobid/{jobID}`.\n",
                "parameters": {
                  "jobID": "$response.body#/jobID"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/job-id"
                }
              }
            },
            "description": "Successful Operation. The created file(s) has/have to be referenced inside the given fileGrp sections.",
            "headers": {
              "Location": {
                "description": "URL of the generated job.",
                "schema": {
                  "type": "string",
                  "format": "url"
                }
              }
            }
          }
        },
        "operationId": "start-processor",
        "description": "Segment page into regions with tesseract",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "mets",
                  "input-file-grp",
                  "output-file-grp"
                ],
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "description": "Object holding all parameters needed by most processors.",
                "properties": {
                  "parameter": {
                    "type": "array",
                    "description": "Parameter file in JSON format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "output-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "log-level": {
                    "$ref": "#/components/schemas/log-level"
                  },
                  "group-id": {
                    "type": "array",
                    "description": "All IDs of the image files which should be characterized.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "input-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mets": {
                    "$ref": "#/components/schemas/mets-file"
                  }
                }
              }
            }
          }
        },
        "summary": "Segment page into regions with tesseract"
      },
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "application/json": {
              "description": "Got ocrd-tool.json",
              "schema": {
                "type": "object",
                "required": [
                  "version",
                  "git_url",
                  "tools"
                ],
                "additionalProperties": false,
                "description": "Schema for tools by OCR-D MP",
                "properties": {
                  "git_url": {
                    "type": "string",
                    "description": "Github/Gitlab URL",
                    "format": "url"
                  },
                  "dockerhub": {
                    "type": "string",
                    "description": "DockerHub image"
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "ocrd-.*": {
                        "type": "object",
                        "required": [
                          "description",
                          "steps",
                          "executable",
                          "categories"
                        ],
                        "additionalProperties": false,
                        "properties": {
                          "description": {
                            "description": "Concise description what the tool does"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "Image preprocessing",
                                "Layout analysis",
                                "Text recognition and optimization",
                                "Model training",
                                "Long-term preservation",
                                "Quality assurance"
                              ]
                            },
                            "description": "Tools belong to this categories, representing modules within the OCR-D project structure"
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "preprocessing/characterization",
                                "preprocessing/optimization",
                                "preprocessing/optimization/cropping",
                                "preprocessing/optimization/deskewing",
                                "preprocessing/optimization/despeckling",
                                "preprocessing/optimization/dewarping",
                                "preprocessing/optimization/binarization",
                                "preprocessing/optimization/grayscale_normalization",
                                "recognition/text-recognition",
                                "recognition/font-identification",
                                "layout/segmentation",
                                "layout/segmentation/region",
                                "layout/segmentation/line",
                                "layout/segmentation/word",
                                "layout/segmentation/classification",
                                "layout/analysis"
                              ]
                            },
                            "description": "This tool can be used at these steps in the OCR-D functional model"
                          },
                          "parameters": {
                            "type": "object",
                            "patternProperties": {
                              ".*": {
                                "type": "object",
                                "required": [
                                  "type"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                  "enum": {
                                    "type": "array",
                                    "description": "List the allowed values if a fixed list."
                                  },
                                  "type": {
                                    "type": "string",
                                    "description": "Data type of this parameter",
                                    "enum": [
                                      "string",
                                      "number",
                                      "boolean"
                                    ]
                                  },
                                  "required": {
                                    "type": "boolean",
                                    "description": "Whether this parameter is required"
                                  },
                                  "default": {
                                    "description": "Default value when not provided by the user"
                                  },
                                  "format": {
                                    "description": "Subtype, such as `float` for type `number` or `uri` for type `string`."
                                  }
                                }
                              }
                            },
                            "description": "Object describing the parameters of a tool. Keys are parameter names, values sub-schemas."
                          },
                          "executable": {
                            "type": "string",
                            "description": "The name of the CLI executable in $PATH"
                          }
                        }
                      }
                    }
                  },
                  "version": "v2.2.1",
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
                    "description": "Version of the tool, expressed as MAJOR.MINOR.PATCH."
                  }
                }
              }
            }
          }
        },
        "produces": [],
        "description": "Get ocrd-tool.json"
      }
    },
    "/tesserocr-segment-region": {
      "post": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal error"
          },
          "201": {
            "links": {
              "GetFilesByJobId": {
                "operationId": "get-created-files-of-processor",
                "description": "The `jobId` value returned in the response can be used as the `jobID` parameter in `GET /ocrd/processor/jobid/{jobID}`.\n",
                "parameters": {
                  "jobID": "$response.body#/jobID"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/job-id"
                }
              }
            },
            "description": "Successful Operation. The created file(s) has/have to be referenced inside the given fileGrp sections.",
            "headers": {
              "Location": {
                "description": "URL of the generated job.",
                "schema": {
                  "type": "string",
                  "format": "url"
                }
              }
            }
          }
        },
        "operationId": "start-processor",
        "description": "Segment regions into lines with tesseract",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "mets",
                  "input-file-grp",
                  "output-file-grp"
                ],
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "description": "Object holding all parameters needed by most processors.",
                "properties": {
                  "parameter": {
                    "type": "array",
                    "description": "Parameter file in JSON format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "output-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "log-level": {
                    "$ref": "#/components/schemas/log-level"
                  },
                  "group-id": {
                    "type": "array",
                    "description": "All IDs of the image files which should be characterized.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "input-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mets": {
                    "$ref": "#/components/schemas/mets-file"
                  }
                }
              }
            }
          }
        },
        "summary": "Segment regions into lines with tesseract"
      },
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "application/json": {
              "description": "Got ocrd-tool.json",
              "schema": {
                "type": "object",
                "required": [
                  "version",
                  "git_url",
                  "tools"
                ],
                "additionalProperties": false,
                "description": "Schema for tools by OCR-D MP",
                "properties": {
                  "git_url": {
                    "type": "string",
                    "description": "Github/Gitlab URL",
                    "format": "url"
                  },
                  "dockerhub": {
                    "type": "string",
                    "description": "DockerHub image"
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "ocrd-.*": {
                        "type": "object",
                        "required": [
                          "description",
                          "steps",
                          "executable",
                          "categories"
                        ],
                        "additionalProperties": false,
                        "properties": {
                          "description": {
                            "description": "Concise description what the tool does"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "Image preprocessing",
                                "Layout analysis",
                                "Text recognition and optimization",
                                "Model training",
                                "Long-term preservation",
                                "Quality assurance"
                              ]
                            },
                            "description": "Tools belong to this categories, representing modules within the OCR-D project structure"
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "preprocessing/characterization",
                                "preprocessing/optimization",
                                "preprocessing/optimization/cropping",
                                "preprocessing/optimization/deskewing",
                                "preprocessing/optimization/despeckling",
                                "preprocessing/optimization/dewarping",
                                "preprocessing/optimization/binarization",
                                "preprocessing/optimization/grayscale_normalization",
                                "recognition/text-recognition",
                                "recognition/font-identification",
                                "layout/segmentation",
                                "layout/segmentation/region",
                                "layout/segmentation/line",
                                "layout/segmentation/word",
                                "layout/segmentation/classification",
                                "layout/analysis"
                              ]
                            },
                            "description": "This tool can be used at these steps in the OCR-D functional model"
                          },
                          "parameters": {
                            "type": "object",
                            "patternProperties": {
                              ".*": {
                                "type": "object",
                                "required": [
                                  "type"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                  "enum": {
                                    "type": "array",
                                    "description": "List the allowed values if a fixed list."
                                  },
                                  "type": {
                                    "type": "string",
                                    "description": "Data type of this parameter",
                                    "enum": [
                                      "string",
                                      "number",
                                      "boolean"
                                    ]
                                  },
                                  "required": {
                                    "type": "boolean",
                                    "description": "Whether this parameter is required"
                                  },
                                  "default": {
                                    "description": "Default value when not provided by the user"
                                  },
                                  "format": {
                                    "description": "Subtype, such as `float` for type `number` or `uri` for type `string`."
                                  }
                                }
                              }
                            },
                            "description": "Object describing the parameters of a tool. Keys are parameter names, values sub-schemas."
                          },
                          "executable": {
                            "type": "string",
                            "description": "The name of the CLI executable in $PATH"
                          }
                        }
                      }
                    }
                  },
                  "version": "v2.2.1",
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
                    "description": "Version of the tool, expressed as MAJOR.MINOR.PATCH."
                  }
                }
              }
            }
          }
        },
        "produces": [],
        "description": "Get ocrd-tool.json"
      }
    },
    "/kraken-binarize/{_id}": {
      "get": {
        "tags": [
          "Image preprocessing"
        ],
        "responses": {
          "200": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              },
              "application/vnd.ocrd.log+json": {
                "schema": {
                  "$ref": "#/components/schemas/logging"
                }
              },
              "application/mets+xml": {
                "schema": {
                  "$ref": "#/components/schemas/mets-file"
                }
              },
              "application/vnd.ocrd.page+xml": {
                "schema": {
                  "$ref": "#/components/schemas/page-file"
                }
              },
              "application/vnd.ocrd.prov+json": {
                "schema": {
                  "$ref": "#/components/schemas/provenance-file"
                }
              },
              "application/zip": {
                "schema": {
                  "$ref": "#/components/schemas/zip-file"
                }
              },
              "image/*": {
                "schema": {
                  "$ref": "#/components/schemas/image-file"
                }
              }
            },
            "description": "Successful Operation."
          },
          "400": {
            "description": "Bad request. Maybe more than one file of at least one mimetype was created. Please use mimetype 'application/zip' as accept header to fetch all files at once."
          },
          "500": {
            "description": "Internal error"
          }
        },
        "operationId": "get-created-files-of-processor",
        "description": "Fetch all file created by job with id 'jobID'. If more than one file is created per mimetype use mimetype 'application/zip' as accept header to fetch all files at once.",
        "summary": "Get created files.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      },
      "delete": {
        "tags": [
          "Image preprocessing"
        ],
        "responses": {
          "410": {
            "description": "Resource is not available anymore."
          },
          "500": {
            "description": "Internal error"
          },
          "404": {
            "description": "Not found."
          },
          "204": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              }
            },
            "description": "Successful Operation. All linked resources are removed successfully."
          }
        },
        "summary": "Delete all files created by job with ID 'jobID'.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      }
    },
    "/tesserocr-recognize/{_id}": {
      "get": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "200": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              },
              "application/vnd.ocrd.log+json": {
                "schema": {
                  "$ref": "#/components/schemas/logging"
                }
              },
              "application/mets+xml": {
                "schema": {
                  "$ref": "#/components/schemas/mets-file"
                }
              },
              "application/vnd.ocrd.page+xml": {
                "schema": {
                  "$ref": "#/components/schemas/page-file"
                }
              },
              "application/vnd.ocrd.prov+json": {
                "schema": {
                  "$ref": "#/components/schemas/provenance-file"
                }
              },
              "application/zip": {
                "schema": {
                  "$ref": "#/components/schemas/zip-file"
                }
              },
              "image/*": {
                "schema": {
                  "$ref": "#/components/schemas/image-file"
                }
              }
            },
            "description": "Successful Operation."
          },
          "400": {
            "description": "Bad request. Maybe more than one file of at least one mimetype was created. Please use mimetype 'application/zip' as accept header to fetch all files at once."
          },
          "500": {
            "description": "Internal error"
          }
        },
        "operationId": "get-created-files-of-processor",
        "description": "Fetch all file created by job with id 'jobID'. If more than one file is created per mimetype use mimetype 'application/zip' as accept header to fetch all files at once.",
        "summary": "Get created files.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      },
      "delete": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "410": {
            "description": "Resource is not available anymore."
          },
          "500": {
            "description": "Internal error"
          },
          "404": {
            "description": "Not found."
          },
          "204": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              }
            },
            "description": "Successful Operation. All linked resources are removed successfully."
          }
        },
        "summary": "Delete all files created by job with ID 'jobID'.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      }
    },
    "/kraken-segment/{_id}": {
      "get": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "200": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              },
              "application/vnd.ocrd.log+json": {
                "schema": {
                  "$ref": "#/components/schemas/logging"
                }
              },
              "application/mets+xml": {
                "schema": {
                  "$ref": "#/components/schemas/mets-file"
                }
              },
              "application/vnd.ocrd.page+xml": {
                "schema": {
                  "$ref": "#/components/schemas/page-file"
                }
              },
              "application/vnd.ocrd.prov+json": {
                "schema": {
                  "$ref": "#/components/schemas/provenance-file"
                }
              },
              "application/zip": {
                "schema": {
                  "$ref": "#/components/schemas/zip-file"
                }
              },
              "image/*": {
                "schema": {
                  "$ref": "#/components/schemas/image-file"
                }
              }
            },
            "description": "Successful Operation."
          },
          "400": {
            "description": "Bad request. Maybe more than one file of at least one mimetype was created. Please use mimetype 'application/zip' as accept header to fetch all files at once."
          },
          "500": {
            "description": "Internal error"
          }
        },
        "operationId": "get-created-files-of-processor",
        "description": "Fetch all file created by job with id 'jobID'. If more than one file is created per mimetype use mimetype 'application/zip' as accept header to fetch all files at once.",
        "summary": "Get created files.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      },
      "delete": {
        "tags": [
          "Layout analysis"
        ],
        "responses": {
          "410": {
            "description": "Resource is not available anymore."
          },
          "500": {
            "description": "Internal error"
          },
          "404": {
            "description": "Not found."
          },
          "204": {
            "content": {
              "application/vnd.ocrd+job-status": {
                "schema": {
                  "$ref": "#/components/schemas/job-status"
                }
              }
            },
            "description": "Successful Operation. All linked resources are removed successfully."
          }
        },
        "summary": "Delete all files created by job with ID 'jobID'.",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "jobID",
            "description": "job ID of the started process.",
            "in": "path"
          }
        ]
      }
    },
    "/tesserocr-recognize": {
      "post": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal error"
          },
          "201": {
            "links": {
              "GetFilesByJobId": {
                "operationId": "get-created-files-of-processor",
                "description": "The `jobId` value returned in the response can be used as the `jobID` parameter in `GET /ocrd/processor/jobid/{jobID}`.\n",
                "parameters": {
                  "jobID": "$response.body#/jobID"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/job-id"
                }
              }
            },
            "description": "Successful Operation. The created file(s) has/have to be referenced inside the given fileGrp sections.",
            "headers": {
              "Location": {
                "description": "URL of the generated job.",
                "schema": {
                  "type": "string",
                  "format": "url"
                }
              }
            }
          }
        },
        "operationId": "start-processor",
        "description": "Recognize text in lines with tesseract",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "mets",
                  "input-file-grp",
                  "output-file-grp"
                ],
                "parameters": {
                  "type": "object",
                  "properties": {}
                },
                "description": "Object holding all parameters needed by most processors.",
                "properties": {
                  "parameter": {
                    "type": "array",
                    "description": "Parameter file in JSON format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "output-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "log-level": {
                    "$ref": "#/components/schemas/log-level"
                  },
                  "group-id": {
                    "type": "array",
                    "description": "All IDs of the image files which should be characterized.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "input-file-grp": {
                    "type": "array",
                    "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE).",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mets": {
                    "$ref": "#/components/schemas/mets-file"
                  }
                }
              }
            }
          }
        },
        "summary": "Recognize text in lines with tesseract"
      },
      "get": {
        "tags": [
          "Text recognition and optimization"
        ],
        "responses": {
          "200": {
            "application/json": {
              "description": "Got ocrd-tool.json",
              "schema": {
                "type": "object",
                "required": [
                  "version",
                  "git_url",
                  "tools"
                ],
                "additionalProperties": false,
                "description": "Schema for tools by OCR-D MP",
                "properties": {
                  "git_url": {
                    "type": "string",
                    "description": "Github/Gitlab URL",
                    "format": "url"
                  },
                  "dockerhub": {
                    "type": "string",
                    "description": "DockerHub image"
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "ocrd-.*": {
                        "type": "object",
                        "required": [
                          "description",
                          "steps",
                          "executable",
                          "categories"
                        ],
                        "additionalProperties": false,
                        "properties": {
                          "description": {
                            "description": "Concise description what the tool does"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "Image preprocessing",
                                "Layout analysis",
                                "Text recognition and optimization",
                                "Model training",
                                "Long-term preservation",
                                "Quality assurance"
                              ]
                            },
                            "description": "Tools belong to this categories, representing modules within the OCR-D project structure"
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "preprocessing/characterization",
                                "preprocessing/optimization",
                                "preprocessing/optimization/cropping",
                                "preprocessing/optimization/deskewing",
                                "preprocessing/optimization/despeckling",
                                "preprocessing/optimization/dewarping",
                                "preprocessing/optimization/binarization",
                                "preprocessing/optimization/grayscale_normalization",
                                "recognition/text-recognition",
                                "recognition/font-identification",
                                "layout/segmentation",
                                "layout/segmentation/region",
                                "layout/segmentation/line",
                                "layout/segmentation/word",
                                "layout/segmentation/classification",
                                "layout/analysis"
                              ]
                            },
                            "description": "This tool can be used at these steps in the OCR-D functional model"
                          },
                          "parameters": {
                            "type": "object",
                            "patternProperties": {
                              ".*": {
                                "type": "object",
                                "required": [
                                  "type"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                  "enum": {
                                    "type": "array",
                                    "description": "List the allowed values if a fixed list."
                                  },
                                  "type": {
                                    "type": "string",
                                    "description": "Data type of this parameter",
                                    "enum": [
                                      "string",
                                      "number",
                                      "boolean"
                                    ]
                                  },
                                  "required": {
                                    "type": "boolean",
                                    "description": "Whether this parameter is required"
                                  },
                                  "default": {
                                    "description": "Default value when not provided by the user"
                                  },
                                  "format": {
                                    "description": "Subtype, such as `float` for type `number` or `uri` for type `string`."
                                  }
                                }
                              }
                            },
                            "description": "Object describing the parameters of a tool. Keys are parameter names, values sub-schemas."
                          },
                          "executable": {
                            "type": "string",
                            "description": "The name of the CLI executable in $PATH"
                          }
                        }
                      }
                    }
                  },
                  "version": "v2.2.1",
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
                    "description": "Version of the tool, expressed as MAJOR.MINOR.PATCH."
                  }
                }
              }
            }
          }
        },
        "produces": [],
        "description": "Get ocrd-tool.json"
      }
    }
  },
  "components": {
    "schemas": {
      "image-file": {
        "type": "string",
        "description": "Image created by processor.",
        "format": "binary"
      },
      "zip-file": {
        "type": "string",
        "description": "zip-file containing all files created by the processor.  Content of zip-file: \n  * METS file (mandatory) (default: mets.xml)\n  * Provenance (mandatory) (default: provenance.json)\n  * PAGE XML (optional) \n  * Images (optional) \n  * Output of (error) console. (optional) (default: output.json)\n\nAll files have to be referenced inside the METS file.\n",
        "format": "binary"
      },
      "message-with-timestamp": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "message"
          },
          "timestamp": {
            "type": "string",
            "description": "timestamp",
            "format": "date"
          }
        }
      },
      "status": {
        "type": "string",
        "enum": [
          "OK"
        ]
      },
      "page-file": {
        "type": "string",
        "description": "XML holding all information of the digitized page. (see http://schema.primaresearch.org/PAGE/gts/pagecontent/2017-07-15/pagecontent.xsd)"
      },
      "log-level": {
        "type": "string",
        "example": "DEBUG",
        "default": "INFO",
        "description": "Minimum Log level. One of (OFF, ERROR, WARN, INFO (default), DEBUG, TRACE). Actual mechanism for filtering log messages must not be implemented by processors.",
        "enum": [
          false,
          "ERROR",
          "WARN",
          "INFO",
          "DEBUG",
          "TRACE"
        ]
      },
      "logging": {
        "type": "object",
        "additionalProperties": false,
        "description": "JSON file holding the output of the job.",
        "properties": {
          "stdout": {
            "type": "array",
            "description": "Output of console.",
            "items": {
              "$ref": "#/components/schemas/message-with-timestamp"
            }
          },
          "stderr": {
            "type": "array",
            "description": "Output of error console.",
            "items": {
              "$ref": "#/components/schemas/message-with-timestamp"
            }
          }
        }
      },
      "job-status": {
        "type": "string",
        "description": "Description of the status:\n  * `RUNNING` - Job is not finished yet.\n  * `FINISHED` - Job was executed successfully.\n  * `ERROR` - Job was cancelled due to an error.\n  * `STOPPED` - Job was stopped due to server restrictions.\n",
        "enum": [
          "RUNNING",
          "FINISHED",
          "ERROR",
          "STOPPED"
        ]
      },
      "provenance-file": {
        "type": "string",
        "description": "JSON file holding all information about the provenance."
      },
      "mets-file": {
        "type": "string",
        "description": "XML holding all information of the digitized document. All references of the images and the PAGE XMLs are available via fileGrp section  (see http://www.loc.gov/standards/mets/mets.xsd)"
      },
      "processors": {
        "type": "object",
        "required": [
          "mets",
          "input-file-grp",
          "output-file-grp"
        ],
        "description": "Object holding all parameters needed by most processors.",
        "properties": {
          "parameter": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Parameter file in JSON format."
          },
          "output-file-grp": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "ID(s) of the fileGrps which have to be used as output. (fileGrp@USE)."
          },
          "mets": {
            "$ref": "#/components/schemas/mets-file"
          },
          "group-id": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "All IDs of the image files which should be characterized."
          },
          "input-file-grp": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "ID(s) of the fileGrps which have to be used as input. (fileGrp@USE)."
          },
          "log-level": {
            "$ref": "#/components/schemas/log-level"
          }
        }
      },
      "job-id": {
        "type": "object",
        "description": "Status and job ID of created job.",
        "properties": {
          "status": {
            "$ref": "#/components/schemas/status"
          },
          "jobId": {
            "type": "string",
            "description": "ID of the created job."
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "http://test.ocr-d.de/v1"
    }
  ],
  "info": {
    "title": "OCR-D",
    "termsOfService": "http://swagger.io/terms/",
    "description": "This is a generic definition of the modules used for the OCR-D project.\n* Implementation path for the different processors (description)\n* /preprocessing/characterization (Determine specific characteristics of a digitalization.)\n* /preprocessing/optimization (Execute all steps for image optimization at once.)\n* /preprocessing/optimization/cropping (Crops the digitization to printspace.)\n* /preprocessing/optimization/deskewing (Deskews the digitization.)\n* /preprocessing/optimization/despeckling (Despeckles the digitization.)\n* /preprocessing/optimization/dewarping (Dewarps the digitization.)\n* /preprocessing/optimization/binarization (Binarize the digitization.)\n*  /recognition/text-recognition (Estimate font families and languages used.)\n*  /recognition/font-identification (Estimate font families and languages used.)\n* /layout/segmentation (Detect and classify all regions of a page.)\n* /layout/segmentation/page (Detect all regions of a page.)\n* /layout/segmentation/line (Detect all text line regions inside the text regions of a page.)\n* /layout/segmentation/classification | Fine-grained classification of all detected regions of a page.)\n* /layout/analysis (Analyse regions on document level.)",
    "license": {
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html",
      "name": "Apache 2.0"
    },
    "version": "v2.2.1",
    "contact": {
      "email": "volker.hartmann@kit.edu"
    }
  }
}
